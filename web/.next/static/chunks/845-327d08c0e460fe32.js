(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{7290:(t,e,n)=>{"use strict";n.r(e),n.d(e,{fromUtf8:()=>s,toUtf8:()=>o});let r=t=>{let e=[];for(let n=0,r=t.length;n<r;n++){let r=t.charCodeAt(n);if(r<128)e.push(r);else if(r<2048)e.push(r>>6|192,63&r|128);else if(n+1<t.length&&(64512&r)==55296&&(64512&t.charCodeAt(n+1))==56320){let i=65536+((1023&r)<<10)+(1023&t.charCodeAt(++n));e.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else e.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(e)},i=t=>{let e="";for(let n=0,r=t.length;n<r;n++){let r=t[n];r<128?e+=String.fromCharCode(r):192<=r&&r<224?e+=String.fromCharCode((31&r)<<6|63&t[++n]):240<=r&&r<365?e+=decodeURIComponent("%"+[r,t[++n],t[++n],t[++n]].map(t=>t.toString(16)).join("%")):e+=String.fromCharCode((15&r)<<12|(63&t[++n])<<6|63&t[++n])}return e},s=t=>"function"==typeof TextEncoder?new TextEncoder().encode(t):r(t),o=t=>"function"==typeof TextDecoder?new TextDecoder("utf-8").decode(t):i(t)},9845:(t,e,n)=>{"use strict";n.d(e,{By:()=>a,TU:()=>N,NE:()=>W});var r,i,s,o,a=function(){function t(t){var e=t||{},n=e.ValidationData,r=e.Username,i=e.Password,s=e.AuthParameters,o=e.ClientMetadata;this.validationData=n||{},this.authParameters=s||{},this.clientMetadata=o||{},this.username=r,this.password=i}var e=t.prototype;return e.getUsername=function(){return this.username},e.getPassword=function(){return this.password},e.getValidationData=function(){return this.validationData},e.getAuthParameters=function(){return this.authParameters},e.getClientMetadata=function(){return this.clientMetadata},t}(),u=n(5927);if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(5682)}catch(t){}var h=function(){function t(t,e){t=this.words=t||[],void 0!=e?this.sigBytes=e:this.sigBytes=4*t.length}var e=t.prototype;return e.random=function(e){for(var n=[],i=0;i<e;i+=4)n.push(function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw Error("Native crypto module could not be used to get secure random number.")}());return new t(n,e)},e.toString=function(){return function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var s=e[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")}(this)},t}(),c=n(6946);function f(t,e){null!=t&&this.fromString(t,e)}function l(){return new f(null)}var d="undefined"!=typeof navigator;d&&"Microsoft Internet Explorer"==navigator.appName?(f.prototype.am=function(t,e,n,r,i,s){for(var o=32767&e,a=e>>15;--s>=0;){var u=32767&this[t],h=this[t++]>>15,c=a*u+h*o;i=((u=o*u+((32767&c)<<15)+n[r]+(0x3fffffff&i))>>>30)+(c>>>15)+a*h+(i>>>30),n[r++]=0x3fffffff&u}return i},i=30):d&&"Netscape"!=navigator.appName?(f.prototype.am=function(t,e,n,r,i,s){for(;--s>=0;){var o=e*this[t++]+n[r]+i;i=Math.floor(o/0x4000000),n[r++]=0x3ffffff&o}return i},i=26):(f.prototype.am=function(t,e,n,r,i,s){for(var o=16383&e,a=e>>14;--s>=0;){var u=16383&this[t],h=this[t++]>>14,c=a*u+h*o;i=((u=o*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+a*h,n[r++]=0xfffffff&u}return i},i=28),f.prototype.DB=i,f.prototype.DM=(1<<i)-1,f.prototype.DV=1<<i,f.prototype.FV=0x10000000000000,f.prototype.F1=52-i,f.prototype.F2=2*i-52;var g=[];for(o=0,s=48;o<=9;++o)g[s++]=o;for(o=10,s=97;o<36;++o)g[s++]=o;for(o=10,s=65;o<36;++o)g[s++]=o;function p(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function y(t){var e=l();return e.fromInt(t),e}function v(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function S(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function m(t){return u.hp.from(new h().random(t).toString(),"hex")}S.prototype.convert=function(t){var e=l();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(f.ZERO)>0&&this.m.subTo(e,e),e},S.prototype.revert=function(t){var e=l();return t.copyTo(e),this.reduce(e),e},S.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},S.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},S.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},f.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},f.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},f.prototype.fromString=function(t,e){if(16==e)n=4;else if(8==e)n=3;else if(2==e)n=1;else if(32==e)n=5;else if(4==e)n=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n,r=t.length,i=!1,s=0;--r>=0;){var o=function(t,e){var n=g[t.charCodeAt(e)];return null==n?-1:n}(t,r);if(o<0){"-"==t.charAt(r)&&(i=!0);continue}i=!1,0==s?this[this.t++]=o:s+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=n)>=this.DB&&(s-=this.DB)}this.clamp(),i&&f.ZERO.subTo(this,this)},f.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},f.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},f.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},f.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,s=(1<<i)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+o+1]=this[n]>>i|a,a=(this[n]&s)<<r;for(n=o-1;n>=0;--n)e[n]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},f.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t){e.t=0;return}var r=t%this.DB,i=this.DB-r,s=(1<<r)-1;e[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)e[o-n-1]|=(this[o]&s)<<i,e[o-n]=this[o]>>r;r>0&&(e[this.t-n-1]|=(this.s&s)<<i),e.t=this.t-n,e.clamp()},f.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},f.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&f.ZERO.subTo(e,e)},f.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},f.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t){null!=e&&e.fromInt(0),null!=n&&this.copyTo(n);return}null==n&&(n=l());var s=l(),o=this.s,a=t.s,u=this.DB-v(r[r.t-1]);u>0?(r.lShiftTo(u,s),i.lShiftTo(u,n)):(r.copyTo(s),i.copyTo(n));var h=s.t,c=s[h-1];if(0!=c){var d=c*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),g=this.FV/d,p=(1<<this.F1)/d,y=1<<this.F2,S=n.t,m=S-h,C=null==e?l():e;for(s.dlShiftTo(m,C),n.compareTo(C)>=0&&(n[n.t++]=1,n.subTo(C,n)),f.ONE.dlShiftTo(h,C),C.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--m>=0;){var A=n[--S]==c?this.DM:Math.floor(n[S]*g+(n[S-1]+y)*p);if((n[S]+=s.am(0,A,n,m,0,h))<A)for(s.dlShiftTo(m,C),n.subTo(C,n);n[S]<--A;)n.subTo(C,n)}null!=e&&(n.drShiftTo(h,e),o!=a&&f.ZERO.subTo(e,e)),n.t=h,n.clamp(),u>0&&n.rShiftTo(u,n),o<0&&f.ZERO.subTo(n,n)}}},f.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if((1&t)==0)return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},f.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},f.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else if(4==t)e=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");var e,n,r=(1<<e)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(n=this[o]>>a)>0&&(i=!0,s=p(n));o>=0;)a<e?n=(this[o]&(1<<a)-1)<<e-a|this[--o]>>(a+=this.DB-e):(n=this[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=p(n));return i?s:"0"},f.prototype.negate=function(){var t=l();return f.ZERO.subTo(this,t),t},f.prototype.abs=function(){return this.s<0?this.negate():this},f.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},f.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+v(this[this.t-1]^this.s&this.DM)},f.prototype.mod=function(t){var e=l();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(f.ZERO)>0&&t.subTo(e,e),e},f.prototype.equals=function(t){return 0==this.compareTo(t)},f.prototype.add=function(t){var e=l();return this.addTo(t,e),e},f.prototype.subtract=function(t){var e=l();return this.subTo(t,e),e},f.prototype.multiply=function(t){var e=l();return this.multiplyTo(t,e),e},f.prototype.divide=function(t){var e=l();return this.divRemTo(t,e,null),e},f.prototype.modPow=function(t,e,n){var r,i=t.bitLength(),s=y(1),o=new S(e);if(i<=0)return s;var a=[],u=3,h=(r=i<18?1:i<48?3:i<144?4:i<768?5:6)-1,c=(1<<r)-1;if(a[1]=o.convert(this),r>1){var f=l();for(o.sqrTo(a[1],f);u<=c;)a[u]=l(),o.mulTo(f,a[u-2],a[u]),u+=2}var d,g,p=t.t-1,m=!0,C=l();for(i=v(t[p])-1;p>=0;){for(i>=h?d=t[p]>>i-h&c:(d=(t[p]&(1<<i+1)-1)<<h-i,p>0&&(d|=t[p-1]>>this.DB+i-h)),u=r;(1&d)==0;)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),m)a[d].copyTo(s),m=!1;else{for(;u>1;)o.sqrTo(s,C),o.sqrTo(C,s),u-=2;u>0?o.sqrTo(s,C):(g=s,s=C,C=g),o.mulTo(C,a[d],s)}for(;p>=0&&(t[p]&1<<i)==0;)o.sqrTo(s,C),g=s,s=C,C=g,--i<0&&(i=this.DB-1,--p)}var A=o.revert(s);return n(null,A),A},f.ZERO=y(0),f.ONE=y(1);var C=/^[89a-f]/i,A=function(){function t(t){this.N=new f("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new f("2",16),this.k=new f(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=u.hp.from("Caldera Derived Key","utf8"),this.poolName=t}var e=t.prototype;return e.getSmallAValue=function(){return this.smallAValue},e.getLargeAValue=function(t){var e=this;this.largeAValue?t(null,this.largeAValue):this.calculateA(this.smallAValue,function(n,r){n&&t(n,null),e.largeAValue=r,t(null,e.largeAValue)})},e.generateRandomSmallA=function(){return new f(m(128).toString("hex"),16)},e.generateRandomString=function(){return m(40).toString("base64")},e.getRandomPassword=function(){return this.randomPassword},e.getSaltDevices=function(){return this.SaltToHashDevices},e.getVerifierDevices=function(){return this.verifierDevices},e.generateHashDevice=function(t,e,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+t+e+":"+this.randomPassword,s=this.hash(i),o=m(16).toString("hex");this.SaltToHashDevices=this.padHex(new f(o,16)),this.g.modPow(new f(this.hexHash(this.SaltToHashDevices+s),16),this.N,function(t,e){t&&n(t,null),r.verifierDevices=r.padHex(e),n(null,null)})},e.calculateA=function(t,e){var n=this;this.g.modPow(t,this.N,function(t,r){t&&e(t,null),r.mod(n.N).equals(f.ZERO)&&e(Error("Illegal paramater. A mod N cannot be 0."),null),e(null,r)})},e.calculateU=function(t,e){return this.UHexHash=this.hexHash(this.padHex(t)+this.padHex(e)),new f(this.UHexHash,16)},e.hash=function(t){var e=new c.Sha256;e.update(t);var n=e.digestSync(),r=u.hp.from(n).toString("hex");return Array(64-r.length).join("0")+r},e.hexHash=function(t){return this.hash(u.hp.from(t,"hex"))},e.computehkdf=function(t,e){var n=u.hp.concat([this.infoBits,u.hp.from("\x01","utf8")]),r=new c.Sha256(e);r.update(t);var i=r.digestSync(),s=new c.Sha256(i);return s.update(n),s.digestSync().slice(0,16)},e.getPasswordAuthenticationKey=function(t,e,n,r,i){var s=this;if(n.mod(this.N).equals(f.ZERO))throw Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(f.ZERO))throw Error("U cannot be zero.");var o=""+this.poolName+t+":"+e,a=this.hash(o),h=new f(this.hexHash(this.padHex(r)+a),16);this.calculateS(h,n,function(t,e){t&&i(t,null),i(null,s.computehkdf(u.hp.from(s.padHex(e),"hex"),u.hp.from(s.padHex(s.UValue),"hex")))})},e.calculateS=function(t,e,n){var r=this;this.g.modPow(t,this.N,function(i,s){i&&n(i,null),e.subtract(r.k.multiply(s)).modPow(r.smallAValue.add(r.UValue.multiply(t)),r.N,function(t,e){t&&n(t,null),n(null,e.mod(r.N))})})},e.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},e.padHex=function(t){if(!(t instanceof f))throw Error("Not a BigInteger");var e=0>t.compareTo(f.ZERO),n=t.abs().toString(16);return n=n.length%2!=0?"0"+n:n,n=C.test(n)?"00"+n:n,e&&(n=new f(n.split("").map(function(t){var e=15&~parseInt(t,16);return"0123456789ABCDEF".charAt(e)}).join(""),16).add(f.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2)),n},t}(),U=function(){function t(t){this.jwtToken=t||"",this.payload=this.decodePayload()}var e=t.prototype;return e.getJwtToken=function(){return this.jwtToken},e.getExpiration=function(){return this.payload.exp},e.getIssuedAt=function(){return this.payload.iat},e.decodePayload=function(){var t=this.jwtToken.split(".")[1];try{return JSON.parse(u.hp.from(t,"base64").toString("utf8"))}catch(t){return{}}},t}();function w(t,e){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(e){var n=(void 0===e?{}:e).AccessToken;return t.call(this,n||"")||this}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t),e}(U);function T(t,e){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(e){var n=(void 0===e?{}:e).IdToken;return t.call(this,n||"")||this}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T(e,t),e}(U),b={userAgent:"aws-amplify/5.0.4",isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product},I=function(){function t(t){var e=(void 0===t?{}:t).RefreshToken;this.token=e||""}return t.prototype.getToken=function(){return this.token},t}(),_=function(){function t(t){var e=void 0===t?{}:t,n=e.IdToken,r=e.RefreshToken,i=e.AccessToken,s=e.ClockDrift;if(null==i||null==n)throw Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===s?this.calculateClockDrift():s}var e=t.prototype;return e.getIdToken=function(){return this.idToken},e.getRefreshToken=function(){return this.refreshToken},e.getAccessToken=function(){return this.accessToken},e.getClockDrift=function(){return this.clockDrift},e.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},e.isValid=function(){var t=Math.floor(new Date/1e3)-this.clockDrift;return t<this.accessToken.getExpiration()&&t<this.idToken.getExpiration()},t}(),R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],P=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x=function(){function t(){}return t.prototype.getNowString=function(){var t=new Date,e=P[t.getUTCDay()],n=R[t.getUTCMonth()],r=t.getUTCDate(),i=t.getUTCHours();i<10&&(i="0"+i);var s=t.getUTCMinutes();s<10&&(s="0"+s);var o=t.getUTCSeconds();return o<10&&(o="0"+o),e+" "+n+" "+r+" "+i+":"+s+":"+o+" UTC "+t.getUTCFullYear()},t}(),k=function(){function t(t){var e=void 0===t?{}:t,n=e.Name,r=e.Value;this.Name=n||"",this.Value=r||""}var e=t.prototype;return e.getValue=function(){return this.Value},e.setValue=function(t){return this.Value=t,this},e.getName=function(){return this.Name},e.setName=function(t){return this.Name=t,this},e.toString=function(){return JSON.stringify(this)},e.toJSON=function(){return{Name:this.Name,Value:this.Value}},t}(),F={},O=function(){function t(){}return t.setItem=function(t,e){return F[t]=e,F[t]},t.getItem=function(t){return Object.prototype.hasOwnProperty.call(F,t)?F[t]:void 0},t.removeItem=function(t){return delete F[t]},t.clear=function(){return F={}},t}(),B=function(){function t(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(t){this.storageWindow=O}}return t.prototype.getStorage=function(){return this.storageWindow},t}(),M="undefined"!=typeof navigator?b.isReactNative?"react-native":navigator.userAgent:"nodejs",N=function(){function t(t){if(null==t||null==t.Username||null==t.Pool)throw Error("Username and Pool information are required.");this.username=t.Username||"",this.pool=t.Pool,this.Session=null,this.client=t.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=t.Storage||new B().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var e=t.prototype;return e.setSignInUserSession=function(t){this.clearCachedUserData(),this.signInUserSession=t,this.cacheTokens()},e.getSignInUserSession=function(){return this.signInUserSession},e.getUsername=function(){return this.username},e.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.setAuthenticationFlowType=function(t){this.authenticationFlowType=t},e.initiateAuth=function(t,e){var n=this,r=t.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),s={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",s,function(t,r){if(t)return e.onFailure(t);var i=r.ChallengeName,s=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,e.customChallenge(s)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))})},e.authenticateUser=function(t,e){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(t,e):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(t,e):e.onFailure(Error("Authentication flow type is invalid."))},e.authenticateUserDefaultAuth=function(t,e){var n,r,i=this,s=new A(this.pool.getUserPoolName()),o=new x,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,s.getLargeAValue(function(h,l){h&&e.onFailure(h),a.SRP_A=l.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var d=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),g={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:d};i.getUserContextData(i.username)&&(g.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",g,function(a,h){if(a)return e.onFailure(a);var l=h.ChallengeParameters;i.username=l.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new f(l.SRP_B,16),r=new f(l.SALT,16),i.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(i.username,t.getPassword(),n,r,function(t,n){t&&e.onFailure(t);var r=o.getNowString(),a=u.hp.concat([u.hp.from(i.pool.getUserPoolName(),"utf8"),u.hp.from(i.username,"utf8"),u.hp.from(l.SECRET_BLOCK,"base64"),u.hp.from(r,"utf8")]),f=new c.Sha256(n);f.update(a);var g=f.digestSync(),p=u.hp.from(g).toString("base64"),y={};y.USERNAME=i.username,y.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,y.TIMESTAMP=r,y.PASSWORD_CLAIM_SIGNATURE=p,null!=i.deviceKey&&(y.DEVICE_KEY=i.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:y,Session:h.Session,ClientMetadata:d};i.getUserContextData()&&(v.UserContextData=i.getUserContextData()),function t(e,n){return i.client.request("RespondToAuthChallenge",e,function(r,s){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(y.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),t(e,n)):n(r,s)})}(v,function(t,n){return t?e.onFailure(t):i.authenticateUserInternal(n,s,e)})})})})},e.authenticateUserPlainUsernamePassword=function(t,e){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=t.getPassword(),!r.PASSWORD){e.onFailure(Error("PASSWORD parameter is required"));return}var i=new A(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var s=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),o={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:s};this.getUserContextData(this.username)&&(o.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",o,function(t,r){return t?e.onFailure(t):n.authenticateUserInternal(r,i,e)})},e.authenticateUserInternal=function(t,e,n){var r=this,i=t.ChallengeName,s=t.ChallengeParameters;if("SMS_MFA"===i)return this.Session=t.Session,n.mfaRequired(i,s);if("SELECT_MFA_TYPE"===i)return this.Session=t.Session,n.selectMFAType(i,s);if("MFA_SETUP"===i)return this.Session=t.Session,n.mfaSetup(i,s);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=t.Session,n.totpRequired(i,s);if("CUSTOM_CHALLENGE"===i)return this.Session=t.Session,n.customChallenge(s);if("NEW_PASSWORD_REQUIRED"===i){this.Session=t.Session;var o=null,a=null,h=[],c=e.getNewPasswordRequiredChallengeUserAttributePrefix();if(s&&(o=JSON.parse(t.ChallengeParameters.userAttributes),a=JSON.parse(t.ChallengeParameters.requiredAttributes)),a)for(var f=0;f<a.length;f++)h[f]=a[f].substr(c.length);return n.newPasswordRequired(o,h)}if("DEVICE_SRP_AUTH"===i){this.Session=t.Session,this.getDeviceResponse(n);return}this.signInUserSession=this.getCognitoUserSession(t.AuthenticationResult),this.challengeName=i,this.cacheTokens();var l=t.AuthenticationResult.NewDeviceMetadata;if(null==l)return n.onSuccess(this.signInUserSession);e.generateHashDevice(t.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,t.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(i){if(i)return n.onFailure(i);var s={Salt:u.hp.from(e.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:u.hp.from(e.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=s.PasswordVerifier,r.deviceGroupKey=l.DeviceGroupKey,r.randomPassword=e.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:l.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:M},function(e,i){return e?n.onFailure(e):(r.deviceKey=t.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary)?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession)})})},e.completeNewPasswordChallenge=function(t,e,n,r){var i=this;if(!t)return n.onFailure(Error("New password is required."));var s=new A(this.pool.getUserPoolName()),o=s.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};e&&Object.keys(e).forEach(function(t){a[o+t]=e[t]}),a.NEW_PASSWORD=t,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(t,e){return t?n.onFailure(t):i.authenticateUserInternal(e,s,n)})},e.getDeviceResponse=function(t,e){var n=this,r=new A(this.deviceGroupKey),i=new x,s={};s.USERNAME=this.username,s.DEVICE_KEY=this.deviceKey,r.getLargeAValue(function(o,a){o&&t.onFailure(o),s.SRP_A=a.toString(16);var h={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:s,ClientMetadata:e,Session:n.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,function(e,s){if(e)return t.onFailure(e);var o=s.ChallengeParameters,a=new f(o.SRP_B,16),h=new f(o.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,a,h,function(e,r){if(e)return t.onFailure(e);var a=i.getNowString(),h=u.hp.concat([u.hp.from(n.deviceGroupKey,"utf8"),u.hp.from(n.deviceKey,"utf8"),u.hp.from(o.SECRET_BLOCK,"base64"),u.hp.from(a,"utf8")]),f=new c.Sha256(r);f.update(h);var l=f.digestSync(),d=u.hp.from(l).toString("base64"),g={};g.USERNAME=n.username,g.PASSWORD_CLAIM_SECRET_BLOCK=o.SECRET_BLOCK,g.TIMESTAMP=a,g.PASSWORD_CLAIM_SIGNATURE=d,g.DEVICE_KEY=n.deviceKey;var p={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:g,Session:s.Session};n.getUserContextData()&&(p.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",p,function(e,r){return e?t.onFailure(e):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))})})})})},e.confirmRegistration=function(t,e,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:t,Username:this.username,ForceAliasCreation:e,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,function(t){return t?n(t,null):n(null,"SUCCESS")})},e.sendCustomChallengeAnswer=function(t,e,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=t;var s=new A(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var o={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,function(t,n){return t?e.onFailure(t):r.authenticateUserInternal(n,s,e)})},e.sendMFACode=function(t,e,n,r){var i=this,s={};s.USERNAME=this.username,s.SMS_MFA_CODE=t;var o=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===o&&(s.SOFTWARE_TOKEN_MFA_CODE=t),null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey);var a={ChallengeName:o,ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(t,n){if(t)return e.onFailure(t);if("DEVICE_SRP_AUTH"===n.ChallengeName){i.getDeviceResponse(e);return}if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return e.onSuccess(i.signInUserSession);var r=new A(i.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(t){if(t)return e.onFailure(t);var s={Salt:u.hp.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:u.hp.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=s.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:M},function(t,r){return t?e.onFailure(t):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary)?e.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):e.onSuccess(i.signInUserSession)})})})},e.changePassword=function(t,e,n,r){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return n(Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:t,ProposedPassword:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(t){return t?n(t,null):n(null,"SUCCESS")})},e.enableMFA=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(Error("User is not authenticated"),null);var e=[];e.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):t(null,"SUCCESS")})},e.setUserMfaPreference=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:t,SoftwareTokenMfaSettings:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?n(t,null):n(null,"SUCCESS")})},e.disableMFA=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):t(null,"SUCCESS")})},e.deleteUser=function(t,e){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:e},function(e){return e?t(e,null):(n.clearCachedUser(),t(null,"SUCCESS"))})},e.updateAttributes=function(t,e,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:t,ClientMetadata:n},function(t,n){return t?e(t,null):r.getUserData(function(){return e(null,"SUCCESS",n)},{bypassCache:!0})})},e.getUserAttributes=function(t){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return t(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e,n){if(e)return t(e,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var s=new k({Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value});r.push(s)}return t(null,r)})},e.getMFAOptions=function(t){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return t(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e,n){return e?t(e,null):t(null,n.MFAOptions)})},e.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},e.refreshSessionIfPossible=function(t){var e=this;return void 0===t&&(t={}),new Promise(function(n){var r=e.signInUserSession.getRefreshToken();r&&r.getToken()?e.refreshSession(r,n,t.clientMetadata):n()})},e.getUserData=function(t,e){var n=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return this.clearCachedUserData(),t(Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(!r){this.fetchUserData().then(function(e){t(null,e)}).catch(t);return}if(this.isFetchUserDataAndTokenRequired(e)){this.fetchUserData().then(function(t){return n.refreshSessionIfPossible(e).then(function(){return t})}).then(function(e){return t(null,e)}).catch(t);return}try{t(null,JSON.parse(r));return}catch(e){this.clearCachedUserData(),t(e,null);return}},e.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},e.isFetchUserDataAndTokenRequired=function(t){var e=(t||{}).bypassCache;return void 0!==e&&e},e.fetchUserData=function(){var t=this;return this.createGetUserRequest().then(function(e){return t.cacheUserData(e),e})},e.deleteAttributes=function(t,e){var n=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):n.getUserData(function(){return e(null,"SUCCESS")},{bypassCache:!0})})},e.resendConfirmationCode=function(t,e){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:e};this.client.request("ResendConfirmationCode",n,function(e,n){return e?t(e,null):t(null,n)})},e.getSession=function(t,e){if(void 0===e&&(e={}),null==this.username)return t(Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return t(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken";if(this.storage.getItem(r)){var i=new D({IdToken:this.storage.getItem(r)}),s=new E({AccessToken:this.storage.getItem(n+".accessToken")}),o=new I({RefreshToken:this.storage.getItem(n+".refreshToken")}),a=new _({IdToken:i,AccessToken:s,RefreshToken:o,ClockDrift:parseInt(this.storage.getItem(n+".clockDrift"),0)||0});if(a.isValid())return this.signInUserSession=a,t(null,this.signInUserSession);if(!o.getToken())return t(Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(o,t,e.clientMetadata)}else t(Error("Local storage is missing an ID Token, Please authenticate"),null)},e.refreshSession=function(t,e,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(e):e,s={};s.REFRESH_TOKEN=t.getToken();var o="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=o+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=o+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),s.DEVICE_KEY=this.deviceKey}var h={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:s,ClientMetadata:n};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",h,function(e,n){if(e)return"NotAuthorizedException"===e.code&&r.clearCachedUser(),i(e,null);if(n){var s=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(s,"RefreshToken")||(s.RefreshToken=t.getToken()),r.signInUserSession=r.getCognitoUserSession(s),r.cacheTokens(),i(null,r.signInUserSession)}})},e.cacheTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),e=t+"."+this.username+".idToken",n=t+"."+this.username+".accessToken",r=t+"."+this.username+".refreshToken",i=t+"."+this.username+".clockDrift";this.storage.setItem(e,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(t+".LastAuthUser",this.username)},e.cacheUserData=function(t){this.storage.setItem(this.userDataKey,JSON.stringify(t))},e.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.cacheDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.setItem(t+".deviceKey",this.deviceKey),this.storage.setItem(t+".randomPasswordKey",this.randomPassword),this.storage.setItem(t+".deviceGroupKey",this.deviceGroupKey)},e.getCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey";this.storage.getItem(e)&&(this.deviceKey=this.storage.getItem(e),this.randomPassword=this.storage.getItem(t+".randomPasswordKey"),this.deviceGroupKey=this.storage.getItem(t+".deviceGroupKey"))},e.clearCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.removeItem(t+".deviceKey"),this.storage.removeItem(t+".randomPasswordKey"),this.storage.removeItem(t+".deviceGroupKey")},e.clearCachedTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),e=t+"."+this.username+".idToken",n=t+"."+this.username+".accessToken",r=t+"."+this.username+".refreshToken",i=t+"."+this.username+".clockDrift";this.storage.removeItem(e),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(t+".LastAuthUser"),this.storage.removeItem(i)},e.getCognitoUserSession=function(t){return new _({IdToken:new D(t),AccessToken:new E(t),RefreshToken:new I(t)})},e.forgotPassword=function(t,e){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:e};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess(n)})},e.confirmPassword=function(t,e,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:t,Password:e,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,function(t){return t?n.onFailure(t):n.onSuccess("SUCCESS")})},e.getAttributeVerificationCode=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess("SUCCESS")})},e.verifyAttribute=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:t,Code:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?n.onFailure(t):n.onSuccess("SUCCESS")})},e.getDevice=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(e,n){return e?t.onFailure(e):t.onSuccess(n)})},e.forgetSpecificDevice=function(t,e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:t},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},e.forgetDevice=function(t){var e=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:t.onFailure,onSuccess:function(n){return e.deviceKey=null,e.deviceGroupKey=null,e.randomPassword=null,e.clearCachedDeviceKeyAndPassword(),t.onSuccess(n)}})},e.setDeviceStatusRemembered=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},e.setDeviceStatusNotRemembered=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},e.listDevices=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:t};e&&(r.PaginationToken=e),this.client.request("ListDevices",r,function(t,e){return t?n.onFailure(t):n.onSuccess(e)})},e.globalSignOut=function(t){var e=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?t.onFailure(n):(e.clearCachedUser(),t.onSuccess("SUCCESS"))})},e.signOut=function(t){var e=this;if(!t||"function"!=typeof t){this.cleanClientData();return}this.getSession(function(n,r){if(n)return t(n);e.revokeTokens(function(n){e.cleanClientData(),t(n)})})},e.revokeTokens=function(t){if(void 0===t&&(t=function(){}),"function"!=typeof t)throw Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return t(Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return t(Error("No Access token available"));var e=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&e)return this.revokeToken({token:e,callback:t});t()},e.isSessionRevocable=function(t){if(t&&"function"==typeof t.decodePayload)try{return!!t.decodePayload().origin_jti}catch(t){}return!1},e.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},e.revokeToken=function(t){var e=t.token,n=t.callback;this.client.requestWithRetry("RevokeToken",{Token:e,ClientId:this.pool.getClientId()},function(t){if(t)return n(t);n()})},e.sendMFASelectionAnswer=function(t,e){var n=this,r={};r.USERNAME=this.username,r.ANSWER=t;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,function(r,i){return r?e.onFailure(r):(n.Session=i.Session,"SMS_MFA"===t)?e.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===t?e.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0})},e.getUserContextData=function(){return this.pool.getUserContextData(this.username)},e.associateSoftwareToken=function(t){var e=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e,n){return e?t.onFailure(e):t.associateSecretCode(n.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(n,r){return n?t.onFailure(n):(e.Session=r.Session,t.associateSecretCode(r.SecretCode))})},e.verifySoftwareToken=function(t,e,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:t,FriendlyDeviceName:e},function(t,e){return t?n.onFailure(t):n.onSuccess(e)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:t,FriendlyDeviceName:e},function(t,e){if(t)return n.onFailure(t);r.Session=e.Session;var i={};i.USERNAME=r.username;var s={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(s.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",s,function(t,e){return t?n.onFailure(t):(r.signInUserSession=r.getCognitoUserSession(e.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))})})},t}();function K(){}n(6528),K.prototype.userAgent=b.userAgent;var V=function(t){var e=K.category?" "+K.category:"",n=K.framework?" framework/"+K.framework:"";return""+K.prototype.userAgent+e+n};function L(t){var e="function"==typeof Map?new Map:void 0;return(L=function(t){if(null===t||!function(t){try{return -1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return q(t,arguments,Y(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),j(n,t)})(t)}function q(t,e,n){return(q=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&j(i,n.prototype),i}:Reflect.construct.bind()).apply(null,arguments)}function j(t,e){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(t){function e(e,n,r,i){var s;return(s=t.call(this,e)||this).code=n,s.name=r,s.statusCode=i,s}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,j(e,t),e}(L(Error)),G=function(){function t(t,e,n){this.endpoint=e||"https://cognito-idp."+t+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var e=t.prototype;return e.promisifyRequest=function(t,e){var n=this;return new Promise(function(r,i){n.request(t,e,function(t,e){t?i(new H(t.message,t.code,t.name,t.statusCode)):r(e)})})},e.requestWithRetry=function(t,e,n){var r=this;(function t(e,n,r,i){if(void 0===i&&(i=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return J.debug(e.name+" attempt #"+i+" with args: "+JSON.stringify(n)),e.apply(void 0,n).catch(function(s){if(J.debug("error on "+e.name,s),s&&s.nonRetryable)throw J.debug(e.name+" non retryable error",s),s;var o=r(i,n,s);if(J.debug(e.name+" retrying in "+o+" ms"),!1!==o)return new Promise(function(t){return setTimeout(t,o)}).then(function(){return t(e,n,r,i+1)});throw s})})(function(e){return new Promise(function(n,i){r.request(t,e,function(t,e){t?i(t):n(e)})})},[e],function(t){var e=100*Math.pow(2,t)+100*Math.random();return!(e>5e3)&&e}).then(function(t){return n(null,t)}).catch(function(t){return n(t)})},e.request=function(t,e,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+t,"X-Amz-User-Agent":V(),"Cache-Control":"no-store"},s=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",body:JSON.stringify(e)});fetch(this.endpoint,s).then(function(t){return r=t,t},function(t){if(t instanceof TypeError)throw Error("Network error");throw t}).then(function(t){return t.json().catch(function(){return{}})}).then(function(t){if(r.ok)return n(null,t);var e=(t.__type||t.code).split("#").pop(),i=Error(t.message||t.Message||null);return i.name=e,i.code=e,n(i)}).catch(function(t){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var e=r.headers.get("x-amzn-errortype").split(":")[0],i=Error(r.status?r.status.toString():null);return i.code=e,i.name=e,i.statusCode=r.status,n(i)}catch(t){}else t instanceof Error&&"Network error"===t.message&&(t.code="NetworkError");return n(t)})},t}(),J={debug:function(){}},W=function(){function t(t,e){var n=t||{},r=n.UserPoolId,i=n.ClientId,s=n.endpoint,o=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new G(u,s,o),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=t.Storage||new B().getStorage(),e&&(this.wrapRefreshSessionCallback=e)}var e=t.prototype;return e.getUserPoolId=function(){return this.userPoolId},e.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},e.getClientId=function(){return this.clientId},e.signUp=function(t,e,n,r,i,s){var o=this,a={ClientId:this.clientId,Username:t,Password:e,UserAttributes:n,ValidationData:r,ClientMetadata:s};this.getUserContextData(t)&&(a.UserContextData=this.getUserContextData(t)),this.client.request("SignUp",a,function(e,n){return e?i(e,null):i(null,{user:new N({Username:t,Pool:o,Storage:o.storage}),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails})})},e.getCurrentUser=function(){var t="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",e=this.storage.getItem(t);return e?new N({Username:e,Pool:this,Storage:this.storage}):null},e.getUserContextData=function(t){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var e=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=e.getData(t,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},t}();n(6998)},6635:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RawSha256=void 0;var r=n(9063),i=function(){function t(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(t){if(this.finished)throw Error("Attempted to update an already finished hash.");var e=0,n=t.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[e++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var t=8*this.bytesHashed,e=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(e.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)e.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)e.setUint8(i,0);e.setUint32(r.BLOCK_SIZE-8,Math.floor(t/0x100000000),!0),e.setUint32(r.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(r.DIGEST_LENGTH),i=0;i<8;i++)s[4*i]=this.state[i]>>>24&255,s[4*i+1]=this.state[i]>>>16&255,s[4*i+2]=this.state[i]>>>8&255,s[4*i+3]=this.state[i]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var t=this.buffer,e=this.state,n=e[0],i=e[1],s=e[2],o=e[3],a=e[4],u=e[5],h=e[6],c=e[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&t[4*f])<<24|(255&t[4*f+1])<<16|(255&t[4*f+2])<<8|255&t[4*f+3];else{var l=this.temp[f-2],d=(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10,g=((l=this.temp[f-15])>>>7|l<<25)^(l>>>18|l<<14)^l>>>3;this.temp[f]=(d+this.temp[f-7]|0)+(g+this.temp[f-16]|0)}var p=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&h)|0)+(c+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&s^i&s)|0;c=h,h=u,u=a,a=o+p|0,o=s,s=i,i=n,n=p+y|0}e[0]+=n,e[1]+=i,e[2]+=s,e[3]+=o,e[4]+=a,e[5]+=u,e[6]+=h,e[7]+=c},t}();e.RawSha256=i},9063:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_HASHABLE_LENGTH=e.INIT=e.KEY=e.DIGEST_LENGTH=e.BLOCK_SIZE=void 0,e.BLOCK_SIZE=64,e.DIGEST_LENGTH=32,e.KEY=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),e.INIT=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],e.MAX_HASHABLE_LENGTH=0x1fffffffffffff},6946:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,n(2558).__exportStar)(n(1206),e)},1206:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sha256=void 0;var r=n(2558),i=n(9063),s=n(6635),o=n(8789),a=function(){function t(t){if(this.hash=new s.RawSha256,t){this.outer=new s.RawSha256;var e=function(t){var e=(0,o.convertToBuffer)(t);if(e.byteLength>i.BLOCK_SIZE){var n=new s.RawSha256;n.update(e),e=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(e),r}(t),n=new Uint8Array(i.BLOCK_SIZE);n.set(e);for(var r=0;r<i.BLOCK_SIZE;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}}return t.prototype.update=function(t){if(!(0,o.isEmptyData)(t)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(t))}catch(t){this.error=t}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){return[2,this.digestSync()]})})},t}();e.Sha256=a},3481:(t,e,n)=>{"use strict";var r=n(5927).hp;Object.defineProperty(e,"__esModule",{value:!0}),e.convertToBuffer=void 0;var i=n(7290),s=void 0!==r&&r.from?function(t){return r.from(t,"utf8")}:i.fromUtf8;e.convertToBuffer=function(t){return t instanceof Uint8Array?t:"string"==typeof t?s(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}},8789:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var r=n(3481);Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(636);Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var s=n(5004);Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return s.numToUint8}});var o=n(4735);Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},636:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmptyData=void 0,e.isEmptyData=function(t){return"string"==typeof t?0===t.length:0===t.byteLength}},5004:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.numToUint8=void 0,e.numToUint8=function(t){return new Uint8Array([(0xff000000&t)>>24,(0xff0000&t)>>16,(65280&t)>>8,255&t])}},4735:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=void 0,e.uint32ArrayFrom=function(t){if(!Array.from){for(var e=new Uint32Array(t.length);0<t.length;)e[0]=t[0];return e}return Uint32Array.from(t)}},6998:(t,e,n)=>{var r,i;!function(s){void 0!==(i="function"==typeof(r=s)?r.call(e,n,e,t):r)&&(t.exports=i),t.exports=s()}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function s(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=t({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(new Date*1+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in s)s[u]&&(a+="; "+u,!0!==s[u]&&(a+="="+s[u].split(";")[0]));return document.cookie=e+"="+n+a}}function o(t,n){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var a=s[o].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var h=e(a[0]);if(u=(r.read||r)(u,h)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(i[h]=u,t===h)break}catch(t){}}return t?i[t]:i}}return i.set=s,i.get=function(t){return o(t,!1)},i.getJSON=function(t){return o(t,!0)},i.remove=function(e,n){s(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})},2558:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__assign:()=>s,__asyncDelegator:()=>C,__asyncGenerator:()=>m,__asyncValues:()=>A,__await:()=>S,__awaiter:()=>c,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>D,__createBinding:()=>l,__decorate:()=>a,__exportStar:()=>d,__extends:()=>i,__generator:()=>f,__importDefault:()=>E,__importStar:()=>w,__makeTemplateObject:()=>U,__metadata:()=>h,__param:()=>u,__read:()=>p,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>v,__values:()=>g});var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function u(t,e){return function(n,r){e(n,r,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function f(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function l(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function g(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function S(t){return this instanceof S?(this.v=t,this):new S(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){s.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{var n;(n=i[t](e)).value instanceof S?Promise.resolve(n.value.v).then(u,h):c(s[0][2],n)}catch(t){c(s[0][3],t)}}function u(t){a("next",t)}function h(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function C(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:S(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function A(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=g(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function U(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return e.get(t)}function D(t,e,n){if(!e.has(t))throw TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},3836:(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return(n+r)*3/4-r},e.toByteArray=function(t){var e,n,s=u(t),o=s[0],a=s[1],h=new i((o+a)*3/4-a),c=0,f=a>0?o-4:o;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],h[c++]=e>>16&255,h[c++]=e>>8&255,h[c++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,h[c++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,h[c++]=e>>8&255,h[c++]=255&e),h},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(function(t,e,r){for(var i,s=[],o=e;o<r;o+=3)s.push(n[(i=(t[o]<<16&0xff0000)+(t[o+1]<<8&65280)+(255&t[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}(t,o,o+16383>a?a:o+16383));return 1===i?s.push(n[(e=t[r-1])>>2]+n[e<<4&63]+"=="):2===i&&s.push(n[(e=(t[r-2]<<8)+t[r-1])>>10]+n[e>>4&63]+n[e<<2&63]+"="),s.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function u(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},5927:(t,e,n)=>{"use strict";var r=n(3836),i=n(4981),s=n(9546);function o(){return u.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}function a(t,e){if(o()<e)throw RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return f(this,t)}return h(this,t,e,n)}function h(t,e,n,r){if("number"==typeof e)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!u.isEncoding(n))throw TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n),i=(t=a(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n,r=0|d(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):l(t,e);if("Buffer"===e.type&&s(e.data))return l(t,e.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw TypeError('"size" argument must be a number');if(t<0)throw RangeError('"size" argument must not be negative')}function f(t,e){if(c(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=o())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return I(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(t).length;default:if(r)return I(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,n){var i,s,o=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,n){var r,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var s="",o=e;o<n;++o)s+=(r=t[o])<16?"0"+r.toString(16):r.toString(16);return s}(this,e,n);case"utf8":case"utf-8":return m(this,e,n);case"ascii":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}(this,e,n);case"latin1":case"binary":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}(this,e,n);case"base64":return i=e,s=n,0===i&&s===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(i,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}(this,e,n);default:if(o)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),isNaN(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return -1;n=t.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:S(t,e,n,r,i);if("number"==typeof e)return(e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,r,i);throw TypeError("val must be string, number or Buffer")}function S(t,e,n,r,i){var s,o=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return -1;o=2,a/=2,u/=2,n/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var c=-1;for(s=n;s<a;s++)if(h(t,s)===h(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===u)return c*o}else -1!==c&&(s-=s-c),c=-1}else for(n+u>a&&(n=a-u),s=n;s>=0;s--){for(var f=!0,l=0;l<u;l++)if(h(t,s+l)!==h(e,l)){f=!1;break}if(f)return s}return -1}function m(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s,o,a,u,h=t[i],c=null,f=h>239?4:h>223?3:h>191?2:1;if(i+f<=n)switch(f){case 1:h<128&&(c=h);break;case 2:(192&(s=t[i+1]))==128&&(u=(31&h)<<6|63&s)>127&&(c=u);break;case 3:s=t[i+1],o=t[i+2],(192&s)==128&&(192&o)==128&&(u=(15&h)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(u=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function C(t,e,n){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>n)throw RangeError("Trying to access beyond buffer length")}function A(t,e,n,r,i,s){if(!u.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw RangeError('"value" argument is out of bounds');if(n+r>t.length)throw RangeError("Index out of range")}function U(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}function w(t,e,n,r){e<0&&(e=0xffffffff+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>(r?i:3-i)*8&255}function E(t,e,n,r,i,s){if(n+r>t.length||n<0)throw RangeError("Index out of range")}function T(t,e,n,r,s){return s||E(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,s){return s||E(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}e.hp=u,e.IS=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return h(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return(c(t),t<=0)?a(null,t):void 0!==e?"string"==typeof n?a(null,t).fill(e,n):a(null,t).fill(e):a(null,t)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!!(null!=t&&t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);if(void 0===e)for(n=0,e=0;n<t.length;++n)e+=t[n].length;var n,r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!u.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0==arguments.length?m(this,0,t):p.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.IS;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return -1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var s=i-r,o=n-e,a=Math.min(s,o),h=this.slice(r,i),c=t.slice(e,n),f=0;f<a;++f)if(h[f]!==c[f]){s=h[f],o=c[f];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,n){return -1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,s,o,a,u,h,c,f,l,d,g,p,y=this.length-e;if((void 0===n||n>y)&&(n=y),t.length>0&&(n<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var v=!1;;)switch(r){case"hex":return function(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=e.length;if(s%2!=0)throw TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))break;t[n+o]=a}return o}(this,t,e,n);case"utf8":case"utf-8":return u=e,h=n,P(I(t,this.length-u),this,u,h);case"ascii":return c=e,f=n,P(_(t),this,c,f);case"latin1":case"binary":return i=this,s=t,o=e,a=n,P(_(s),i,o,a);case"base64":return l=e,d=n,P(R(t),this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g=e,p=n,P(function(t,e){for(var n,r,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i.push(n%256),i.push(r);return i}(t,this.length-g),this,g,p);default:if(v)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),v=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+0x1000000*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),0x1000000*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=e,i=1,s=this[t+--r];r>0&&(i*=256);)s+=this[t+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return(e||C(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},u.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?0xffff0000|n:n},u.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?0xffff0000|n:n},u.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;A(this,t,e,n,i,0)}var s=1,o=0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=t/s&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;A(this,t,e,n,i,0)}var s=n-1,o=1;for(this[e+s]=255&t;--s>=0&&(o*=256);)this[e+s]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,0xffffffff,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):w(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,0xffffffff,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):w(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);A(this,t,e,n,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);A(this,t,e,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,0x7fffffff,-0x80000000),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):w(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,0x7fffffff,-0x80000000),t<0&&(t=0xffffffff+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):w(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return T(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return T(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("sourceStart out of bounds");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i,s=t.charCodeAt(0);s<256&&(t=s)}if(void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var o=u.isBuffer(t)?t:I(new u(t,r).toString()),a=o.length;for(i=0;i<n-e;++i)this[i+e]=o[i%a]}return this};var b=/[^+\/0-9A-Za-z-_]/g;function I(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319||o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return s}function _(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function R(t){return r.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(b,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function P(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length)&&!(i>=t.length);++i)e[i+n]=t[i];return i}},9546:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},4981:(t,e)=>{e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,h=u>>1,c=-7,f=n?i-1:0,l=n?-1:1,d=t[e+f];for(f+=l,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+t[e+f],f+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+t[e+f],f+=l,c-=8);if(0===s)s=1-h;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=h}return(d?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,u,h=8*s-i-1,c=(1<<h)-1,f=c>>1,l=23===i?5960464477539062e-23:0,d=r?0:s-1,g=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+f>=1?e+=l/u:e+=l*Math.pow(2,1-f),e*u>=2&&(o++,u/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*u-1)*Math.pow(2,i),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&a,d+=g,a/=256,i-=8);for(o=o<<i|a,h+=i;h>0;t[n+d]=255&o,d+=g,o/=256,h-=8);t[n+d-g]|=128*p}},6528:t=>{"use strict";let e=self.fetch.bind(self);t.exports=e,t.exports.default=t.exports}}]);